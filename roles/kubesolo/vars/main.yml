---
# KubeSolo Ansible Role - Internal Variables
# These variables are not meant to be overridden by users

# GitHub release URL base
kubesolo_github_release_url: "https://github.com/portainer/kubesolo/releases/download"

# Ports used by KubeSolo (for cleanup)
kubesolo_ports:
  - 2379   # Kine (etcd replacement)
  - 6443   # API Server
  - 10443  # Webhook
  - 6060   # pprof server

# PID file location
kubesolo_pidfile: "/var/run/kubesolo.pid"

# Log file location
kubesolo_logfile: "/var/log/kubesolo.log"

# Kubeconfig location (generated by kubesolo)
kubesolo_kubeconfig_path: "{{ kubesolo_path }}/pki/admin/admin.kubeconfig"

# Architecture mapping from ansible_architecture to kubesolo naming
kubesolo_arch_map:
  x86_64: "amd64"
  amd64: "amd64"
  aarch64: "arm64"
  arm64: "arm64"
  armv7l: "arm"
  armhf: "arm"
  riscv64: "riscv64"

# Supported architectures for musl builds
kubesolo_musl_supported_archs:
  - amd64
  - arm64

# Service file paths per init system (matches install.sh paths)
kubesolo_service_paths:
  systemd: "/etc/systemd/system/kubesolo.service"
  sysvinit: "/etc/init.d/kubesolo"
  openrc: "/etc/init.d/kubesolo"
  upstart: "/etc/init/kubesolo.conf"
  runit: "/etc/runit/sv/kubesolo/run"
  s6: "/etc/s6/sv/kubesolo/run"
